
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Modelos de regresión &#8212; EDA PROYECTO FINAL</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'modelos';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Análisis Exploratorio de Datos (EDA)" href="eda.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="Intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.jpeg" class="logo__image only-light" alt="EDA PROYECTO FINAL - Home"/>
    <script>document.write(`<img src="_static/logo.jpeg" class="logo__image only-dark" alt="EDA PROYECTO FINAL - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="Intro.html">
                    Contextualización del Proyecto
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="eda.html"><strong>Análisis Exploratorio de Datos (EDA)</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Modelos de regresión</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/kmarcela11/ProyectoFinal_EnergiaEolica" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/kmarcela11/ProyectoFinal_EnergiaEolica/issues/new?title=Issue%20on%20page%20%2Fmodelos.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/modelos.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Modelos de regresión</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#librerias-y-modulos-necesarios"><strong>Librerías y modulos necesarios</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datos"><strong>Datos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#caracteristicas-principales-de-la-base-de-datos"><strong>Características principales de la base de datos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos"><strong>Modelos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-para-evaluar-los-modelos-usando-ventanas-de-prediccion"><strong>Método para evaluar los modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-para-realizar-las-graficas"><strong>Método para realizar las gráficas</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-1-wind-speed-100-metros-sensor-1"><strong>Modelo 1: Wind speed 100 metros (Sensor 1)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos-usando-ventanas-de-prediccion"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficas-de-los-modelos"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-2-wind-speed-100-metros-sensor-2"><strong>Modelo 2: Wind speed 100 metros (Sensor 2)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-3-wind-speed-80-metros-sensor-1"><strong>Modelo 3: Wind speed 80 metros (Sensor 1)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-4-wind-speed-80-metros-sensor-2"><strong>Modelo 4: Wind speed 80 metros (Sensor 2)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-5-wind-speed-60-metros"><strong>Modelo 5: Wind speed 60 metros</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafica-de-los-modelos"><strong>Gráfica de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion"><strong>Conclusión</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="modelos-de-regresion">
<h1><strong>Modelos de regresión</strong><a class="headerlink" href="#modelos-de-regresion" title="Link to this heading">#</a></h1>
<p>En este trabajo se presentan diversos modelos de regresión con el objetivo de predecir la velocidad del viento utilizando datos históricos. La predicción de variables continuas, como en este caso la velocidad del viento, es un desafío clave en muchos ámbitos, desde la meteorología hasta la energía renovable. Para abordar este problema, se han implementado y evaluado varios enfoques de aprendizaje automático.</p>
<section id="librerias-y-modulos-necesarios">
<h2><strong>Librerías y modulos necesarios</strong><a class="headerlink" href="#librerias-y-modulos-necesarios" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">Ridge</span><span class="p">,</span> <span class="n">Lasso</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">jarque_bera</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">statsmodels.stats.diagnostic</span> <span class="kn">import</span> <span class="n">acorr_ljungbox</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">r2_score</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVR</span>
<span class="kn">from</span> <span class="nn">xgboost</span> <span class="kn">import</span> <span class="n">XGBRegressor</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="datos">
<h2><strong>Datos</strong><a class="headerlink" href="#datos" title="Link to this heading">#</a></h2>
<p>Inicialmente importamos el conjunto de datos que utilizaremos para el desarrollo de los modelos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\Users\kamac\OneDrive\Desktop\MachineLearningUN\EDA\ws_modelos.xlsx&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="caracteristicas-principales-de-la-base-de-datos">
<h3><strong>Características principales de la base de datos</strong><a class="headerlink" href="#caracteristicas-principales-de-la-base-de-datos" title="Link to this heading">#</a></h3>
<p>Aquí podemos ver las primeras cinco filas de nuestro dataset, que será utilizado para la construcción de los modelos de regresión lineal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Fecha</th>
      <th>VelViento100m_1</th>
      <th>VelViento100m_2</th>
      <th>VelViento80m_1</th>
      <th>VelViento80m_2</th>
      <th>VelViento60m</th>
      <th>DirViento60m</th>
      <th>DirViento100m</th>
      <th>DirViento80m</th>
      <th>Presion</th>
      <th>Humedad</th>
      <th>Temp100m</th>
      <th>Temp21m</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022-01-01 00:00:00</td>
      <td>16.060860</td>
      <td>15.830104</td>
      <td>15.145418</td>
      <td>15.125038</td>
      <td>14.300989</td>
      <td>61.98</td>
      <td>61.08</td>
      <td>61.21</td>
      <td>1005.963541</td>
      <td>75.042725</td>
      <td>26.922913</td>
      <td>26.707773</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022-01-01 00:10:00</td>
      <td>16.156927</td>
      <td>15.972642</td>
      <td>15.290614</td>
      <td>15.352352</td>
      <td>14.533556</td>
      <td>62.29</td>
      <td>61.08</td>
      <td>61.49</td>
      <td>1005.795867</td>
      <td>73.509216</td>
      <td>27.006836</td>
      <td>26.772633</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2022-01-01 00:20:00</td>
      <td>16.473571</td>
      <td>16.287375</td>
      <td>15.599149</td>
      <td>15.562022</td>
      <td>14.808378</td>
      <td>61.18</td>
      <td>60.42</td>
      <td>60.65</td>
      <td>1005.739976</td>
      <td>72.914124</td>
      <td>26.991577</td>
      <td>26.772633</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2022-01-01 00:30:00</td>
      <td>16.660009</td>
      <td>16.451707</td>
      <td>15.801446</td>
      <td>15.779687</td>
      <td>15.170287</td>
      <td>62.20</td>
      <td>60.88</td>
      <td>61.19</td>
      <td>1005.684085</td>
      <td>73.165894</td>
      <td>26.877136</td>
      <td>26.659982</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2022-01-01 00:40:00</td>
      <td>16.519613</td>
      <td>16.353678</td>
      <td>15.851963</td>
      <td>15.749131</td>
      <td>14.927282</td>
      <td>61.26</td>
      <td>59.99</td>
      <td>60.26</td>
      <td>1005.609563</td>
      <td>73.791504</td>
      <td>26.770325</td>
      <td>26.601949</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(19083, 13)
</pre></div>
</div>
</div>
</div>
<p>El conjunto de datos cuenta con <strong>13</strong> variables y <strong>19083</strong> observaciones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span> <span class="o">=</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VelViento100m_1</th>
      <th>VelViento100m_2</th>
      <th>VelViento80m_1</th>
      <th>VelViento80m_2</th>
      <th>VelViento60m</th>
      <th>DirViento60m</th>
      <th>DirViento100m</th>
      <th>DirViento80m</th>
      <th>Presion</th>
      <th>Humedad</th>
      <th>Temp100m</th>
      <th>Temp21m</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
      <td>19083.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>12.312852</td>
      <td>12.178773</td>
      <td>11.935864</td>
      <td>11.932547</td>
      <td>11.607971</td>
      <td>67.265740</td>
      <td>65.990962</td>
      <td>66.286775</td>
      <td>1006.202742</td>
      <td>84.492969</td>
      <td>26.273377</td>
      <td>26.493438</td>
    </tr>
    <tr>
      <th>std</th>
      <td>4.451743</td>
      <td>4.403151</td>
      <td>4.286567</td>
      <td>4.276207</td>
      <td>4.121395</td>
      <td>48.492877</td>
      <td>48.712525</td>
      <td>48.584865</td>
      <td>1.823561</td>
      <td>4.303362</td>
      <td>0.846383</td>
      <td>0.951527</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.532543</td>
      <td>0.500556</td>
      <td>0.500413</td>
      <td>0.504115</td>
      <td>0.292860</td>
      <td>0.230000</td>
      <td>0.000000</td>
      <td>0.030000</td>
      <td>1001.417712</td>
      <td>63.072205</td>
      <td>23.710938</td>
      <td>22.700129</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>9.794922</td>
      <td>9.695314</td>
      <td>9.577789</td>
      <td>9.588132</td>
      <td>9.416717</td>
      <td>48.860000</td>
      <td>47.860000</td>
      <td>47.910000</td>
      <td>1004.901606</td>
      <td>81.642151</td>
      <td>25.709839</td>
      <td>25.823634</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>12.941995</td>
      <td>12.808712</td>
      <td>12.555704</td>
      <td>12.558730</td>
      <td>12.223383</td>
      <td>56.480000</td>
      <td>55.300000</td>
      <td>55.580000</td>
      <td>1006.112585</td>
      <td>84.640503</td>
      <td>26.068420</td>
      <td>26.328856</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>15.559608</td>
      <td>15.380787</td>
      <td>15.031122</td>
      <td>15.017974</td>
      <td>14.560523</td>
      <td>64.440000</td>
      <td>63.005000</td>
      <td>63.390000</td>
      <td>1007.435347</td>
      <td>87.669373</td>
      <td>26.587219</td>
      <td>26.997935</td>
    </tr>
    <tr>
      <th>max</th>
      <td>22.301553</td>
      <td>22.027242</td>
      <td>21.730798</td>
      <td>21.769775</td>
      <td>21.140790</td>
      <td>359.900000</td>
      <td>359.950000</td>
      <td>359.890000</td>
      <td>1012.428307</td>
      <td>94.093323</td>
      <td>33.903809</td>
      <td>34.596755</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A partir del análisis estadístico de las variables presentadas en el resumen descriptivo, se puede observar que no hay valores erróneos en los datos de velocidad del viento, presión atmosférica, humedad relativa, temperatura y dirección del viento. Esto se debe a que se han aplicado previamente criterios específicos de limpieza para garantizar la calidad de la base de datos.</p>
<p>Para identificar y eliminar los datos erróneos, se emplearon las siguientes reglas: en la <strong>velocidad del viento</strong>, cualquier valor menor a 0.5 m/s que permanezca fijo en el tiempo se considera un error. Para la <strong>presión atmosférica</strong>, valores por debajo de 980 hPa se identifican como erróneos. En el caso de la <strong>humedad relativa</strong>, valores menores a 60% son inválidos, y para la <strong>temperatura</strong>, cualquier valor inferior a 20°C también es considerado un error, con la particularidad de que los errores en humedad y temperatura suelen coincidir en el tiempo.</p>
<p>Por otro lado, la <strong>dirección del viento</strong> presenta desafíos adicionales en su evaluación, ya que es una variable circular en la que 360° equivale a 0°. Por lo tanto, valores altos no son necesariamente erróneos ni atípicos; en su lugar, los errores en esta variable se detectan cuando la serie permanece fija en un valor específico de manera prolongada.</p>
<p>Con estos filtros aplicados, los valores descriptivos en el resumen indican que la base de datos está limpia y lista para desarrollar y aplicar modelos de regresión para cada una de las variables de velocidad del viento a diferentes alturas.</p>
</section>
</section>
<section id="modelos">
<h2><strong>Modelos</strong><a class="headerlink" href="#modelos" title="Link to this heading">#</a></h2>
<p>Ahora, veamos los modelos. Dado que nuestro objetivo es predecir la velocidad del viento, y encontramos varias variables objetivo (específicamente 5), que corresponden a las velocidades del viento medidas a diferentes alturas y con diferentes sensores, aplicaremos los 8 modelos de regresión seleccionados: Regresión K-NN, Regresión Ridge, Regresión Lasso, Regresión Lineal, Árboles de decisión para regresión, Random Forest, XGboost Y SVR  para cada una de las variables objetivo identificadas.</p>
<p>Para evaluar el desempeño de los modelos, utilizaremos varias métricas, entre ellas el Mean Absolute Percentage Error (MAPE), que nos permitirá medir el error porcentual promedio entre los valores predichos y los valores reales. Esto es especialmente útil cuando se trata de comparaciones de modelos de predicción, ya que el MAPE es intuitivo y fácil de interpretar.</p>
<p>El código para calcular el MAPE se presenta a continuación:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">MAPE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
    <span class="c1"># Convertimos las entradas a arrays de numpy para facilitar el cálculo vectorizado</span>
    <span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_true</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>

    <span class="c1"># Evitar la división por cero, ignorando los valores donde y_true es 0</span>
    <span class="c1"># Creamos un filtro para seleccionar solo los índices donde y_true no sea igual a 0</span>
    <span class="n">non_zero_indices</span> <span class="o">=</span> <span class="n">y_true</span> <span class="o">!=</span> <span class="mi">0</span>

    <span class="c1"># Calculamos el MAPE solo para los valores donde y_true no es cero.</span>
    <span class="c1"># La fórmula del MAPE es el promedio del valor absoluto del error porcentual entre y_true y y_pred</span>
    <span class="c1"># Multiplicamos por 100 para convertirlo en porcentaje</span>
    <span class="n">mape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">y_true</span><span class="p">[</span><span class="n">non_zero_indices</span><span class="p">]</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">[</span><span class="n">non_zero_indices</span><span class="p">])</span> <span class="o">/</span> <span class="n">y_true</span><span class="p">[</span><span class="n">non_zero_indices</span><span class="p">]))</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="c1"># Retornamos el valor del MAPE</span>
    <span class="k">return</span> <span class="n">mape</span>
</pre></div>
</div>
</div>
</div>
<p>Este método garantiza que los valores donde el valor verdadero es cero no se incluyan en el cálculo, evitando errores de división por cero y proporcionando una evaluación más precisa del desempeño de los modelos. A continuación, aplicaremos esta métrica, junto con otras como el <span class="math notranslate nohighlight">\(RMSE\)</span> y el <span class="math notranslate nohighlight">\(R^2\)</span>, para evaluar el desempeño de cada uno de los modelos en las distintas variables objetivo.</p>
<section id="metodo-para-evaluar-los-modelos-usando-ventanas-de-prediccion">
<h3><strong>Método para evaluar los modelos usando ventanas de predicción</strong><a class="headerlink" href="#metodo-para-evaluar-los-modelos-usando-ventanas-de-prediccion" title="Link to this heading">#</a></h3>
<p>A continuación, se presenta la función evaluar_modelos, que nos permite entrenar y evaluar varios modelos de regresión para predecir la velocidad del viento, utilizando ventanas temporales de distintos tamaños (7, 14, 21 y 28 días). La función implementa cuatro modelos principales: <strong>Regresión K-NN</strong>, <strong>Regresión Lineal</strong>, <strong>Regresión Ridge</strong> y <strong>Regresión Lasso</strong>. Cada uno de estos modelos se evalúa utilizando métricas clave como <strong>RMSE, MAPE y <span class="math notranslate nohighlight">\(R^2\)</span></strong>, junto con pruebas estadísticas adicionales como el test de <strong>Jarque-Bera</strong> y <strong>Ljung-Box</strong> para evaluar la normalidad y autocorrelación de los residuos.</p>
<p>La evaluación se realiza en bloques de entrenamiento y prueba definidos por las ventanas de tiempo, lo que permite una estimación más robusta de su capacidad predictiva. A continuación, se presenta el código correspondiente para esta evaluación.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">evaluar_modelos</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ventanas_tiempo</span><span class="o">=</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">28</span><span class="p">]):</span>
    <span class="n">modelos</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Regresión K-NN&#39;</span><span class="p">:</span> <span class="n">KNeighborsRegressor</span><span class="p">(),</span>
        <span class="s1">&#39;Regresión Lineal&#39;</span><span class="p">:</span> <span class="n">LinearRegression</span><span class="p">(),</span>
        <span class="s1">&#39;Regresión Ridge&#39;</span><span class="p">:</span> <span class="n">Ridge</span><span class="p">(),</span>
        <span class="s1">&#39;Regresión Lasso&#39;</span><span class="p">:</span> <span class="n">Lasso</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.011</span><span class="p">),</span>
        <span class="s1">&#39;Random Forest&#39;</span><span class="p">:</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">random_state</span> <span class="o">=</span> <span class="mi">11</span><span class="p">),</span>
        <span class="s1">&#39;XGboost&#39;</span><span class="p">:</span> <span class="n">XGBRegressor</span><span class="p">(</span><span class="n">random_state</span> <span class="o">=</span> <span class="mi">11</span><span class="p">),</span>
        <span class="c1">#&#39;SVR&#39;: SVR(kernel = &#39;rbf&#39;)</span>
    <span class="p">}</span>

    <span class="n">indices_modelos</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Regresión K-NN&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
        <span class="s1">&#39;Regresión Lineal&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
        <span class="s1">&#39;Regresión Ridge&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
        <span class="s1">&#39;Regresión Lasso&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
        <span class="s1">&#39;Random Forest&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span>
        <span class="s1">&#39;XGboost&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
       <span class="c1"># &#39;SVR&#39;: {&#39;index&#39;: 6}</span>
    <span class="p">}</span>

    <span class="n">mejores</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span>
    <span class="n">mayor_R2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span>  
    <span class="n">resultados</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">ventana</span> <span class="ow">in</span> <span class="n">ventanas_tiempo</span><span class="p">:</span>
        <span class="n">inicio</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="n">inicio</span> <span class="o">+</span> <span class="p">(</span><span class="n">ventana</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
            <span class="n">fin</span> <span class="o">=</span> <span class="n">inicio</span> <span class="o">+</span> <span class="p">(</span><span class="n">ventana</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">fin</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="ow">or</span> <span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
                <span class="k">break</span>

            <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">]</span>
            <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)]</span>

            <span class="c1"># Iterar sobre cada modelo</span>
            <span class="k">for</span> <span class="n">nombre_modelo</span><span class="p">,</span> <span class="n">modelo</span> <span class="ow">in</span> <span class="n">modelos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="n">indices_modelos</span><span class="p">[</span><span class="n">nombre_modelo</span><span class="p">][</span><span class="s1">&#39;index&#39;</span><span class="p">]</span>

                <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
                <span class="n">y_pred</span><span class="p">,</span> <span class="n">y_train_pred</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">),</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

                <span class="n">residuals</span> <span class="o">=</span> <span class="n">y_test</span> <span class="o">-</span> <span class="n">y_pred</span>
                <span class="n">RMSE</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">MAPE_value</span> <span class="o">=</span> <span class="n">MAPE</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
                <span class="n">R2</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

                <span class="n">jb_test_stat</span><span class="p">,</span> <span class="n">jb_p_value</span> <span class="o">=</span> <span class="n">jarque_bera</span><span class="p">(</span><span class="n">residuals</span><span class="p">)</span>
                <span class="n">lb_test</span> <span class="o">=</span> <span class="n">acorr_ljungbox</span><span class="p">(</span><span class="n">residuals</span><span class="p">,</span> <span class="n">lags</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="n">return_df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">ljung_box_p_value</span> <span class="o">=</span> <span class="n">lb_test</span><span class="p">[</span><span class="s1">&#39;lb_pvalue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="c1"># Actualizar si este modelo tiene menor RMSE</span>
                <span class="k">if</span> <span class="n">R2</span> <span class="o">&gt;</span> <span class="n">mayor_R2</span><span class="p">[</span><span class="n">idx</span><span class="p">]:</span>
                    <span class="n">mejores</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">mayor_R2</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">nombre_modelo</span><span class="p">],</span> <span class="n">R2</span>

                <span class="c1"># Almacenar los resultados para cada modelo</span>
                <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s2">&quot;Modelo&quot;</span><span class="p">:</span> <span class="n">nombre_modelo</span><span class="p">,</span>
                    <span class="s2">&quot;MAPE&quot;</span><span class="p">:</span> <span class="n">MAPE_value</span><span class="p">,</span>
                    <span class="s2">&quot;RMSE&quot;</span><span class="p">:</span> <span class="n">RMSE</span><span class="p">,</span>
                    <span class="s2">&quot;R^2&quot;</span><span class="p">:</span> <span class="n">R2</span><span class="p">,</span>
                    <span class="s2">&quot;Ljung-Box p-value&quot;</span><span class="p">:</span> <span class="n">ljung_box_p_value</span><span class="p">,</span>
                    <span class="s2">&quot;Jarque-Bera p-value&quot;</span><span class="p">:</span> <span class="n">jb_p_value</span>
                <span class="p">})</span>

            <span class="n">inicio</span> <span class="o">=</span> <span class="n">fin</span>

    <span class="c1"># Convertir resultados a DataFrame</span>
    <span class="n">resultados_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">resultados</span><span class="p">)</span>

    <span class="c1"># Seleccionar los mejores modelos según R2</span>
    <span class="n">mejores_modelos</span> <span class="o">=</span> <span class="n">resultados_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">resultados_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Modelo&#39;</span><span class="p">)[</span><span class="s1">&#39;R^2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()]</span>

    <span class="k">return</span> <span class="n">mejores_modelos</span><span class="p">,</span> <span class="n">mejores</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="metodo-para-realizar-las-graficas">
<h3><strong>Método para realizar las gráficas</strong><a class="headerlink" href="#metodo-para-realizar-las-graficas" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">grafica</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">,</span> <span class="n">nombre_modelo</span><span class="p">):</span>
    <span class="c1"># Calcular R² y RMSE para el conjunto de entrenamiento</span>
    <span class="n">r2_train</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_train_pred</span><span class="p">)</span>
    <span class="n">r2_test</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_test_pred</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="c1"># Gráfico del conjunto de entrenamiento</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_train</span><span class="p">)),</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Velocidad original&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#FF69B4&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>  <span class="c1"># Rosa brillante</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_train_pred</span><span class="p">)),</span> <span class="n">y_train_pred</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Velocidad predicha&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#FF1493&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>  <span class="c1"># Rosa oscuro</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Índice&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Velocidad del viento&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nombre_modelo</span><span class="si">}</span><span class="s2"> (Entrenamiento)</span><span class="se">\n</span><span class="s2">R²: </span><span class="si">{</span><span class="n">r2_train</span><span class="si">:</span><span class="s2">.5f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Gráfico del conjunto de prueba</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_test</span><span class="p">)),</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Velocidad original&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#FFB6C1&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>  <span class="c1"># Rosa claro</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_test_pred</span><span class="p">)),</span> <span class="n">y_test_pred</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Velocidad predicha&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#DB7093&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>  <span class="c1"># Rosa medio</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Índice&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Velocidad del viento&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nombre_modelo</span><span class="si">}</span><span class="s2"> (Prueba)</span><span class="se">\n</span><span class="s2">R²: </span><span class="si">{</span><span class="n">r2_test</span><span class="si">:</span><span class="s2">.5f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">plt</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="modelo-1-wind-speed-100-metros-sensor-1">
<h2><strong>Modelo 1: Wind speed 100 metros (Sensor 1)</strong><a class="headerlink" href="#modelo-1-wind-speed-100-metros-sensor-1" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X1</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fecha&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento60m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento80m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento60m&#39;</span><span class="p">])</span>
<span class="n">y1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;VelViento100m_1&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="modelos-usando-ventanas-de-prediccion">
<h3><strong>Modelos usando ventanas de predicción</strong><a class="headerlink" href="#modelos-usando-ventanas-de-prediccion" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabla</span><span class="p">,</span> <span class="n">mejores</span> <span class="o">=</span> <span class="n">evaluar_modelos</span><span class="p">(</span><span class="n">X1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">tabla</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>R^2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>60</th>
      <td>Random Forest</td>
      <td>14.308942</td>
      <td>1.802617</td>
      <td>0.728470</td>
      <td>4.393750e-65</td>
      <td>9.903668e-09</td>
    </tr>
    <tr>
      <th>56</th>
      <td>Regresión K-NN</td>
      <td>17.234822</td>
      <td>2.153089</td>
      <td>0.612622</td>
      <td>9.104624e-93</td>
      <td>8.177224e-21</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Regresión Lasso</td>
      <td>4.030323</td>
      <td>0.851835</td>
      <td>0.764118</td>
      <td>3.836433e-67</td>
      <td>2.194810e-01</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Regresión Lineal</td>
      <td>4.013425</td>
      <td>0.845024</td>
      <td>0.767875</td>
      <td>1.306806e-63</td>
      <td>2.488181e-01</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Regresión Ridge</td>
      <td>4.013893</td>
      <td>0.846827</td>
      <td>0.766883</td>
      <td>7.620692e-65</td>
      <td>2.410755e-01</td>
    </tr>
    <tr>
      <th>69</th>
      <td>SVR</td>
      <td>20.681334</td>
      <td>2.744486</td>
      <td>-0.001105</td>
      <td>1.247995e-234</td>
      <td>1.078668e-03</td>
    </tr>
    <tr>
      <th>61</th>
      <td>XGboost</td>
      <td>14.851156</td>
      <td>1.838088</td>
      <td>0.717679</td>
      <td>5.337349e-73</td>
      <td>9.994743e-16</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="graficas-de-los-modelos">
<h3><strong>Gráficas de los modelos</strong><a class="headerlink" href="#graficas-de-los-modelos" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">plt</span> <span class="o">=</span> <span class="n">grafica</span><span class="p">(</span><span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fd37614252149b141f17aa31eae4bf0b897d78ca542f3c670481952e1210ee1e.png" src="_images/fd37614252149b141f17aa31eae4bf0b897d78ca542f3c670481952e1210ee1e.png" />
<img alt="_images/06bbf9901a1f47aff242926c23847c31471acac492466bee288f10f85e563111.png" src="_images/06bbf9901a1f47aff242926c23847c31471acac492466bee288f10f85e563111.png" />
<img alt="_images/32db6807af923f62f3dd28157380a11dc60508198e2d285136210271a1502998.png" src="_images/32db6807af923f62f3dd28157380a11dc60508198e2d285136210271a1502998.png" />
<img alt="_images/bdb7f18cdd51ab97340b40f2ae9bcfb5019dc859f052ef9efa0315d7b3c60225.png" src="_images/bdb7f18cdd51ab97340b40f2ae9bcfb5019dc859f052ef9efa0315d7b3c60225.png" />
<img alt="_images/865d99cb617b9044dcb539e45e8520a1bfd6bab7bceff8ab1f9cd2c9f03bc64d.png" src="_images/865d99cb617b9044dcb539e45e8520a1bfd6bab7bceff8ab1f9cd2c9f03bc64d.png" />
<img alt="_images/2c799bb197b0065b717be89fbd50a929a02d0741dea36a7e92934dff9a4db09e.png" src="_images/2c799bb197b0065b717be89fbd50a929a02d0741dea36a7e92934dff9a4db09e.png" />
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">77</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">plt</span> <span class="o">=</span> <span class="n">grafica</span><span class="p">(</span><span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="ne">TypeError</span>: &#39;NoneType&#39; object is not subscriptable
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="modelo-2-wind-speed-100-metros-sensor-2">
<h2><strong>Modelo 2: Wind speed 100 metros (Sensor 2)</strong><a class="headerlink" href="#modelo-2-wind-speed-100-metros-sensor-2" title="Link to this heading">#</a></h2>
<section id="id1">
<h3><strong>Modelos usando ventanas de predicción</strong><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X2</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fecha&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento60m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento80m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento60m&#39;</span><span class="p">])</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;VelViento100m_2&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabla</span><span class="p">,</span> <span class="n">mejores</span> <span class="o">=</span> <span class="n">evaluar_modelos</span><span class="p">(</span><span class="n">X2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
<span class="n">tabla</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>R^2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>61</th>
      <td>Random Forest</td>
      <td>13.948897</td>
      <td>1.743095</td>
      <td>0.742372</td>
      <td>5.265379e-65</td>
      <td>4.671781e-10</td>
    </tr>
    <tr>
      <th>56</th>
      <td>Regresión K-NN</td>
      <td>17.236783</td>
      <td>2.132634</td>
      <td>0.614360</td>
      <td>1.303018e-91</td>
      <td>2.569998e-21</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Regresión Lasso</td>
      <td>4.015628</td>
      <td>0.837644</td>
      <td>0.766706</td>
      <td>3.595775e-67</td>
      <td>1.734285e-01</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Regresión Lineal</td>
      <td>3.996092</td>
      <td>0.830596</td>
      <td>0.770615</td>
      <td>1.214976e-63</td>
      <td>1.987139e-01</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Regresión Ridge</td>
      <td>3.996013</td>
      <td>0.832460</td>
      <td>0.769584</td>
      <td>7.349954e-65</td>
      <td>1.915789e-01</td>
    </tr>
    <tr>
      <th>60</th>
      <td>Tree Decision</td>
      <td>16.090168</td>
      <td>2.048057</td>
      <td>0.644341</td>
      <td>7.250496e-39</td>
      <td>1.956860e-05</td>
    </tr>
    <tr>
      <th>62</th>
      <td>XGboost</td>
      <td>14.675502</td>
      <td>1.750468</td>
      <td>0.740189</td>
      <td>2.246286e-64</td>
      <td>6.108926e-08</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id2">
<h3><strong>Gráficas de los modelos</strong><a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">plt</span> <span class="o">=</span> <span class="n">grafica</span><span class="p">(</span><span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4492cad39358a28db6c9172d58b87d96507d997c3c7b9036858fbaa13e469822.png" src="_images/4492cad39358a28db6c9172d58b87d96507d997c3c7b9036858fbaa13e469822.png" />
<img alt="_images/dba8f1ab37d533a45f3a13f2236e55b98c070182b2f8510e27109845b4a1380b.png" src="_images/dba8f1ab37d533a45f3a13f2236e55b98c070182b2f8510e27109845b4a1380b.png" />
<img alt="_images/8f91ad14469de54736d1e1e4e2ff822056d6179fad13b0b372f2b47c8587a309.png" src="_images/8f91ad14469de54736d1e1e4e2ff822056d6179fad13b0b372f2b47c8587a309.png" />
<img alt="_images/d8b69ce399626dae4cf9e10390bb675dcd7b67ff2c347959ff43da893bdf94a0.png" src="_images/d8b69ce399626dae4cf9e10390bb675dcd7b67ff2c347959ff43da893bdf94a0.png" />
<img alt="_images/172b16d994b1eae97e19439139817ba10c3268474e0505a23a10d2d7e5e32022.png" src="_images/172b16d994b1eae97e19439139817ba10c3268474e0505a23a10d2d7e5e32022.png" />
<img alt="_images/db601e5fea55a8fba909bb2b3b6c14dd913a5c5877c79c214ff54bc4179993a5.png" src="_images/db601e5fea55a8fba909bb2b3b6c14dd913a5c5877c79c214ff54bc4179993a5.png" />
<img alt="_images/6199e3bbaef5f07674f81ed5e3258406233d37e6bb8f741a3d0c7eb97a1380be.png" src="_images/6199e3bbaef5f07674f81ed5e3258406233d37e6bb8f741a3d0c7eb97a1380be.png" />
</div>
</div>
<p>La gráfica muestra el desempeño del modelo de <strong>Regresión K-NN</strong> para la predicción de la velocidad del viento, comparando el conjunto de entrenamiento (izquierda) con el de prueba (derecha). En el conjunto de entrenamiento, el modelo presenta un <strong>R² de 0.87554</strong>, indicando un buen ajuste, ya que las predicciones (cruces) siguen de cerca los valores reales (puntos). Sin embargo, este alto rendimiento puede ser un signo de <strong>sobreajuste</strong>, dado que K-NN es muy sensible a los datos de entrenamiento. Por otro lado, en el conjunto de prueba, el rendimiento del modelo es significativamente menor, con un <strong>R² de 0.51771</strong>. Aunque las predicciones aún siguen las tendencias generales, hay mayor variabilidad y errores en comparación con los valores reales, lo que refuerza la posibilidad de sobreajuste. En resumen, aunque el modelo se ajusta bien a los datos de entrenamiento, su capacidad para generalizar a nuevos datos es limitada, lo que se refleja en su menor rendimiento en el conjunto de prueba.</p>
</section>
</section>
<section id="modelo-3-wind-speed-80-metros-sensor-1">
<h2><strong>Modelo 3: Wind speed 80 metros (Sensor 1)</strong><a class="headerlink" href="#modelo-3-wind-speed-80-metros-sensor-1" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X3</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fecha&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento60m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento100m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento60m&#39;</span><span class="p">])</span>
<span class="n">y3</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;VelViento80m_1&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="id3">
<h3><strong>Modelos usando ventanas de predicción</strong><a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabla</span><span class="p">,</span> <span class="n">mejores</span> <span class="o">=</span> <span class="n">evaluar_modelos</span><span class="p">(</span><span class="n">X3</span><span class="p">,</span> <span class="n">y3</span><span class="p">)</span>
<span class="n">tabla</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>R^2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>194</th>
      <td>Random Forest</td>
      <td>6.214552</td>
      <td>1.099491</td>
      <td>0.033025</td>
      <td>1.392043e-58</td>
      <td>9.073786e-01</td>
    </tr>
    <tr>
      <th>42</th>
      <td>Regresión K-NN</td>
      <td>6.751773</td>
      <td>1.363591</td>
      <td>0.369181</td>
      <td>1.042822e-32</td>
      <td>1.041046e-04</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Regresión Lasso</td>
      <td>4.232337</td>
      <td>0.872895</td>
      <td>0.741500</td>
      <td>5.655773e-63</td>
      <td>2.699373e-01</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Regresión Lineal</td>
      <td>4.219102</td>
      <td>0.864644</td>
      <td>0.746364</td>
      <td>9.800919e-60</td>
      <td>3.753386e-01</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Regresión Ridge</td>
      <td>4.214576</td>
      <td>0.866600</td>
      <td>0.745215</td>
      <td>8.855226e-61</td>
      <td>3.396947e-01</td>
    </tr>
    <tr>
      <th>46</th>
      <td>Tree Decision</td>
      <td>7.219316</td>
      <td>1.496871</td>
      <td>0.239839</td>
      <td>7.911801e-36</td>
      <td>1.650671e-02</td>
    </tr>
    <tr>
      <th>48</th>
      <td>XGboost</td>
      <td>6.541622</td>
      <td>1.372894</td>
      <td>0.360544</td>
      <td>1.983742e-53</td>
      <td>7.028256e-08</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id4">
<h3><strong>Gráficas de los modelos</strong><a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">plt</span> <span class="o">=</span> <span class="n">grafica</span><span class="p">(</span><span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6e9f5e2b26d48987d194dcd238f61ce9bfa00e75b26ddc30bf0a3adbc60f73cb.png" src="_images/6e9f5e2b26d48987d194dcd238f61ce9bfa00e75b26ddc30bf0a3adbc60f73cb.png" />
<img alt="_images/b2fb5e8a6c78899e384383064de0cbad617cd6c24b4abc670e962a8bd0d7edbe.png" src="_images/b2fb5e8a6c78899e384383064de0cbad617cd6c24b4abc670e962a8bd0d7edbe.png" />
<img alt="_images/1d293610664e955dc054d197a6e62670f3ee751033e38024d748df2141b43730.png" src="_images/1d293610664e955dc054d197a6e62670f3ee751033e38024d748df2141b43730.png" />
<img alt="_images/c9ec1871c943bb01f6063936dd6fe05558cb59f2bdd6d51c2a8d40ffca9da8d8.png" src="_images/c9ec1871c943bb01f6063936dd6fe05558cb59f2bdd6d51c2a8d40ffca9da8d8.png" />
</div>
</div>
</section>
</section>
<section id="modelo-4-wind-speed-80-metros-sensor-2">
<h2><strong>Modelo 4: Wind speed 80 metros (Sensor 2)</strong><a class="headerlink" href="#modelo-4-wind-speed-80-metros-sensor-2" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X4</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fecha&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento60m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento100m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento60m&#39;</span><span class="p">])</span>
<span class="n">y4</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;VelViento80m_2&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="id5">
<h3><strong>Modelos usando ventanas de predicción</strong><a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabla</span><span class="p">,</span> <span class="n">mejores</span> <span class="o">=</span> <span class="n">evaluar_modelos</span><span class="p">(</span><span class="n">X4</span><span class="p">,</span> <span class="n">y4</span><span class="p">)</span>
<span class="n">tabla</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>R^2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>61</th>
      <td>Random Forest</td>
      <td>15.810715</td>
      <td>1.841094</td>
      <td>0.688398</td>
      <td>1.086024e-84</td>
      <td>7.586783e-07</td>
    </tr>
    <tr>
      <th>56</th>
      <td>Regresión K-NN</td>
      <td>18.426858</td>
      <td>2.188725</td>
      <td>0.559617</td>
      <td>8.866552e-94</td>
      <td>2.568404e-10</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Regresión Lasso</td>
      <td>4.206182</td>
      <td>0.865905</td>
      <td>0.744455</td>
      <td>4.384785e-63</td>
      <td>2.530800e-01</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Regresión Lineal</td>
      <td>4.203377</td>
      <td>0.857570</td>
      <td>0.749351</td>
      <td>7.246420e-60</td>
      <td>3.441812e-01</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Regresión Ridge</td>
      <td>4.196624</td>
      <td>0.859552</td>
      <td>0.748190</td>
      <td>6.662610e-61</td>
      <td>3.141458e-01</td>
    </tr>
    <tr>
      <th>60</th>
      <td>Tree Decision</td>
      <td>19.019657</td>
      <td>2.294240</td>
      <td>0.516133</td>
      <td>9.211714e-55</td>
      <td>1.204766e-15</td>
    </tr>
    <tr>
      <th>62</th>
      <td>XGboost</td>
      <td>15.513360</td>
      <td>1.862407</td>
      <td>0.681142</td>
      <td>3.387343e-69</td>
      <td>7.055606e-09</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id6">
<h3><strong>Gráficas de los modelos</strong><a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">plt</span> <span class="o">=</span> <span class="n">grafica</span><span class="p">(</span><span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/aef9d5a8df9c46463e8a5eafc07e7bf984fb807ca2b85fa710425d67234007e0.png" src="_images/aef9d5a8df9c46463e8a5eafc07e7bf984fb807ca2b85fa710425d67234007e0.png" />
<img alt="_images/1295408cab96022f5706c7faf883a1eb53ad7a3787a4f3f8d92c499eaa9e5095.png" src="_images/1295408cab96022f5706c7faf883a1eb53ad7a3787a4f3f8d92c499eaa9e5095.png" />
<img alt="_images/92e66af145f91518648e800865d8aca72e23721971561d887d42ef56770f0a31.png" src="_images/92e66af145f91518648e800865d8aca72e23721971561d887d42ef56770f0a31.png" />
<img alt="_images/2ba9c0ad15d767320ef7fd458588e03667b8c08201e23bf19c510b0489624439.png" src="_images/2ba9c0ad15d767320ef7fd458588e03667b8c08201e23bf19c510b0489624439.png" />
<img alt="_images/46dbf879f14e4d4bf8622758f80a6a5dff79a05bfafcc1af936ad14cea6aa6a1.png" src="_images/46dbf879f14e4d4bf8622758f80a6a5dff79a05bfafcc1af936ad14cea6aa6a1.png" />
<img alt="_images/8cadc5fdf88286f7148f58b12b395d7546adf8eef835672ac4b504697482d31d.png" src="_images/8cadc5fdf88286f7148f58b12b395d7546adf8eef835672ac4b504697482d31d.png" />
<img alt="_images/e54789ba86b6281b8f3f65ab683d391531f5f9d173e86e5c68ef72aaf1fc0c78.png" src="_images/e54789ba86b6281b8f3f65ab683d391531f5f9d173e86e5c68ef72aaf1fc0c78.png" />
</div>
</div>
</section>
</section>
<section id="modelo-5-wind-speed-60-metros">
<h2><strong>Modelo 5: Wind speed 60 metros</strong><a class="headerlink" href="#modelo-5-wind-speed-60-metros" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X5</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fecha&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento100m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_1&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento80m_2&#39;</span><span class="p">,</span> <span class="s1">&#39;VelViento60m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento80m&#39;</span><span class="p">,</span> <span class="s1">&#39;DirViento100m&#39;</span><span class="p">])</span>
<span class="n">y5</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;VelViento60m&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="id7">
<h3><strong>Modelos usando ventanas de predicción</strong><a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabla</span><span class="p">,</span> <span class="n">mejores</span> <span class="o">=</span> <span class="n">evaluar_modelos</span><span class="p">(</span><span class="n">X5</span><span class="p">,</span> <span class="n">y5</span><span class="p">)</span>
<span class="n">tabla</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>R^2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>61</th>
      <td>Random Forest</td>
      <td>16.545232</td>
      <td>1.908646</td>
      <td>0.633686</td>
      <td>1.875899e-79</td>
      <td>3.684872e-07</td>
    </tr>
    <tr>
      <th>56</th>
      <td>Regresión K-NN</td>
      <td>19.725898</td>
      <td>2.268929</td>
      <td>0.482339</td>
      <td>8.588551e-94</td>
      <td>3.717309e-15</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Regresión Lasso</td>
      <td>4.445535</td>
      <td>0.890562</td>
      <td>0.709324</td>
      <td>8.948713e-59</td>
      <td>3.340703e-01</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Regresión Lineal</td>
      <td>4.439774</td>
      <td>0.880800</td>
      <td>0.715661</td>
      <td>1.000130e-55</td>
      <td>4.692246e-01</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Regresión Ridge</td>
      <td>4.436869</td>
      <td>0.882914</td>
      <td>0.714294</td>
      <td>1.275099e-56</td>
      <td>4.269807e-01</td>
    </tr>
    <tr>
      <th>207</th>
      <td>Tree Decision</td>
      <td>18.350041</td>
      <td>2.455425</td>
      <td>0.393743</td>
      <td>1.886983e-11</td>
      <td>2.763144e-03</td>
    </tr>
    <tr>
      <th>62</th>
      <td>XGboost</td>
      <td>14.825169</td>
      <td>1.778782</td>
      <td>0.681838</td>
      <td>1.067667e-62</td>
      <td>2.030054e-10</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="grafica-de-los-modelos">
<h3><strong>Gráfica de los modelos</strong><a class="headerlink" href="#grafica-de-los-modelos" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">plt</span> <span class="o">=</span> <span class="n">grafica</span><span class="p">(</span><span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">IndexError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">67</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">plt</span> <span class="o">=</span> <span class="n">grafica</span><span class="p">(</span><span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">],</span> <span class="n">mejores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">5</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="ne">IndexError</span>: list index out of range
</pre></div>
</div>
</div>
</div>
<p>Las gráficas que acompañan el análisis de los modelos de predicción de la velocidad del viento a 60 metros revelan varias observaciones clave. En el caso de la <strong>Regresión K-NN</strong>, el modelo muestra un buen ajuste en el entrenamiento con un <strong>R² de 0.85224</strong>, pero cae significativamente en la prueba, con un <strong>R² de 0.34968</strong>, indicando <strong>sobreajuste</strong> y <strong>mala generalización</strong>. La <strong>Regresión Lineal</strong> presenta un <strong>R² de 0.52999</strong> en el entrenamiento y mejora en la prueba con un <strong>R² de 0.71566</strong>, capturando <strong>patrones más precisos</strong>. La <strong>Regresión Ridge</strong> muestra un comportamiento similar, con un <strong>R² de 0.52978</strong> en el entrenamiento y un <strong>R² de 0.71429</strong> en la prueba, confirmando su <strong>buen rendimiento</strong>. Por su parte, la <strong>Regresión Lasso</strong> tiene un <strong>R² de 0.52788</strong> en el entrenamiento y un <strong>R² de 0.70930</strong> en la prueba, siendo competitivo pero ligeramente inferior a los modelos Lineal y Ridge. En conclusión, los <strong>modelos lineales</strong>, especialmente la <strong>Regresión Lineal</strong>, <strong>Ridge</strong> y <strong>Lasso</strong>, ofrecen un <strong>mejor balance entre ajuste y generalización</strong>, con <strong>R² superiores a 0.70</strong> en los datos de prueba, mientras que <strong>K-NN muestra un claro sobreajuste</strong>, siendo el <strong>menos adecuado</strong> para este caso.</p>
</section>
</section>
<section id="conclusion">
<h2><strong>Conclusión</strong><a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>Los modelos lineales (Regresión Lineal, Ridge y Lasso) demuestran ser los más apropiados para predecir la velocidad del viento en los diferentes sensores y alturas. Logran un equilibrio entre un ajuste adecuado en los datos de entrenamiento y una buena capacidad de generalización en los datos de prueba. Por otro lado, K-NN, a pesar de su alto rendimiento en entrenamiento, no es adecuado para esta tarea debido a su tendencia a sobreajustarse y su baja capacidad de generalización. Para futuros análisis, esperamos utilizar modelos específicos para series de tiempo y así ver mejor el comportamiento de nuestro conjunto de datos.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="eda.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>Análisis Exploratorio de Datos (EDA)</strong></p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#librerias-y-modulos-necesarios"><strong>Librerías y modulos necesarios</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datos"><strong>Datos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#caracteristicas-principales-de-la-base-de-datos"><strong>Características principales de la base de datos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos"><strong>Modelos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-para-evaluar-los-modelos-usando-ventanas-de-prediccion"><strong>Método para evaluar los modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-para-realizar-las-graficas"><strong>Método para realizar las gráficas</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-1-wind-speed-100-metros-sensor-1"><strong>Modelo 1: Wind speed 100 metros (Sensor 1)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos-usando-ventanas-de-prediccion"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficas-de-los-modelos"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-2-wind-speed-100-metros-sensor-2"><strong>Modelo 2: Wind speed 100 metros (Sensor 2)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-3-wind-speed-80-metros-sensor-1"><strong>Modelo 3: Wind speed 80 metros (Sensor 1)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-4-wind-speed-80-metros-sensor-2"><strong>Modelo 4: Wind speed 80 metros (Sensor 2)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><strong>Gráficas de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-5-wind-speed-60-metros"><strong>Modelo 5: Wind speed 60 metros</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><strong>Modelos usando ventanas de predicción</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafica-de-los-modelos"><strong>Gráfica de los modelos</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion"><strong>Conclusión</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kanery Camargo y Emanuel Carbonell
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>